"use strict";(self.webpackChunk_revideo_docs=self.webpackChunk_revideo_docs||[]).push([[9053],{2247:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>y});var a=n(4041);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),g=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=g(e.components);return a.createElement(p.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=g(n),s=r,y=d["".concat(p,".").concat(s)]||d[s]||m[s]||o;return n?a.createElement(y,i(i({ref:t},c),{},{components:n})):a.createElement(y,i({ref:t},c))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=s;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:r,i[1]=l;for(var g=2;g<o;g++)i[g]=n[g];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},9307:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>g});var a=n(9575),r=(n(4041),n(2247));const o={title:"Version 3",slug:"/migrating-to-3.0.0"},i="Migrating to v3",l={unversionedId:"migration/3.0.0",id:"migration/3.0.0",title:"Version 3",description:"Installation",source:"@site/docs/migration/3.0.0.mdx",sourceDirName:"migration",slug:"/migrating-to-3.0.0",permalink:"/migrating-to-3.0.0",draft:!1,editUrl:"https://github.com/havenhq/revideo/blob/main/packages/docs/docs/migration/3.0.0.mdx",tags:[],version:"current",lastUpdatedBy:"Justus Mattern",frontMatter:{title:"Version 3",slug:"/migrating-to-3.0.0"},sidebar:"docs",previous:{title:"Update Guide",permalink:"/updating"},next:{title:"API Reference",permalink:"/category/api-reference"}},p={},g=[{value:"Installation",id:"installation",level:2},{value:"Name changes",id:"name-changes",level:2},{value:"Project configuration",id:"project-configuration",level:2},{value:"<code>CodeBlock</code> revert",id:"codeblock-revert",level:2}],c={toc:g},d="wrapper";function m(e){let{components:t,...n}=e;return(0,r.yg)(d,(0,a.A)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"migrating-to-v3"},"Migrating to v3"),(0,r.yg)("h2",{id:"installation"},"Installation"),(0,r.yg)("p",null,(0,r.yg)("em",{parentName:"p"},"Note: These docs were adopted from the original\n",(0,r.yg)("a",{parentName:"em",href:"https://motioncanvas.io/docs/"},"Motion Canvas")," docs")),(0,r.yg)("p",null,"Update all ",(0,r.yg)("inlineCode",{parentName:"p"},"@revideo")," packages to version ",(0,r.yg)("inlineCode",{parentName:"p"},"3.x.x")," by running:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-bash"},"npm install --save @revideo/2d@3 @revideo/core@3 @revideo/ui@3 @revideo/vite-plugin@3\n")),(0,r.yg)("h2",{id:"name-changes"},"Name changes"),(0,r.yg)("p",null,"This version introduces multiple name changes that are meant to make the code\nmore readable and less prone to collisions with already existing types. Make\nsure to replace the following names in your codebase:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Old name"),(0,r.yg)("th",{parentName:"tr",align:null},"New name"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Image")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("a",{parentName:"td",href:"/api/2d/components/Img"},(0,r.yg)("inlineCode",{parentName:"a"},"Img")))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Text")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("a",{parentName:"td",href:"/api/2d/components/Txt"},(0,r.yg)("inlineCode",{parentName:"a"},"Txt")))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Rect")," (the type, not the node)"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("a",{parentName:"td",href:"/api/core/types/BBox"},(0,r.yg)("inlineCode",{parentName:"a"},"BBox")))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Node.getCacheRect")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("a",{parentName:"td",href:"/api/2d/components/Node#getCacheBBox"},(0,r.yg)("inlineCode",{parentName:"a"},"Node.getCacheBBox")))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Node.cacheRect")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("a",{parentName:"td",href:"/api/2d/components/Node#cacheBBox"},(0,r.yg)("inlineCode",{parentName:"a"},"Node.cacheBBox")))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"Node.fullCacheRect")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("a",{parentName:"td",href:"/api/2d/components/Node#fullCacheBBox"},(0,r.yg)("inlineCode",{parentName:"a"},"Node.fullCacheBBox")))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"CodeBlock.selectionOpacity")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"CodeBlock.unselectedOpacity"))))),(0,r.yg)("h2",{id:"project-configuration"},"Project configuration"),(0,r.yg)("p",null,"Most project settings are now configured via the editor and stored in the meta\nfile. After running your project for the first time, the meta file will be\nautomatically updated to contain these new settings."),(0,r.yg)("p",null,"You can transfer your configuration from the project file:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/project.ts"',title:'"src/project.ts"'},"import {makeProject} from '@revideo/core';\n\nimport example from './scenes/example?scene';\n\nexport default makeProject({\n  scenes: [example],\n  // highlight-start\n  background: '#141414',\n  audioOffset: 2,\n  // highlight-end\n});\n")),(0,r.yg)("p",null,"Over to the meta file:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json",metastring:'title="src/project.meta"',title:'"src/project.meta"'},'{\n  "version": 1,\n  "shared": {\n    // highlight-next-line\n    "background": "rgb(20,20,20)",\n    "range": [0, null],\n    "size": {\n      "x": 1920,\n      "y": 1080\n    },\n    // highlight-next-line\n    "audioOffset": 2\n  },\n  "preview": {\n    "fps": 30,\n    "resolutionScale": 1\n  },\n  "rendering": {\n    "fps": 30,\n    "resolutionScale": 1,\n    "colorSpace": "srgb",\n    "fileType": "image/png",\n    "quality": 1\n  }\n}\n')),(0,r.yg)("h2",{id:"codeblock-revert"},(0,r.yg)("inlineCode",{parentName:"h2"},"CodeBlock")," revert"),(0,r.yg)("p",null,"Due to technical issues, ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/revideo/revideo/pull/401"},"PR #401"),"\nhas been reverted."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"The ",(0,r.yg)("a",{parentName:"li",href:"/code-block"},(0,r.yg)("inlineCode",{parentName:"a"},"CodeBlock"))," should be imported using the full path again:",(0,r.yg)("pre",{parentName:"li"},(0,r.yg)("code",{parentName:"pre",className:"language-ts"},"import {CodeBlock} from '@revideo/2d/lib/components/CodeBlock';\n"))),(0,r.yg)("li",{parentName:"ul"},"The ",(0,r.yg)("inlineCode",{parentName:"li"},"stockTheme")," property is not supported for the time being.")),(0,r.yg)("p",null,"Please stay tuned as we try to find a better solution."))}m.isMDXComponent=!0}}]);
"use strict";(self.webpackChunk_revideo_docs=self.webpackChunk_revideo_docs||[]).push([[2970],{2247:(e,n,t)=>{t.d(n,{xA:()=>u,yg:()=>g});var o=t(4041);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=o.createContext({}),m=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},u=function(e){var n=m(e.components);return o.createElement(l.Provider,{value:n},e.children)},p="mdxType",f={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},c=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),p=m(t),c=r,g=p["".concat(l,".").concat(c)]||p[c]||f[c]||i;return t?o.createElement(g,s(s({ref:n},u),{},{components:t})):o.createElement(g,s({ref:n},u))}));function g(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,s=new Array(i);s[0]=c;var a={};for(var l in n)hasOwnProperty.call(n,l)&&(a[l]=n[l]);a.originalType=e,a[p]="string"==typeof e?e:r,s[1]=a;for(var m=2;m<i;m++)s[m]=t[m];return o.createElement.apply(null,s)}return o.createElement.apply(null,t)}c.displayName="MDXCreateElement"},5329:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>f,frontMatter:()=>i,metadata:()=>a,toc:()=>m});var o=t(9575),r=(t(4041),t(2247));const i={sidebar_position:1,slug:"/common-issues/ffmpeg"},s="FFmpeg Issues",a={unversionedId:"common-issues/ffmpeg",id:"common-issues/ffmpeg",title:"FFmpeg Issues",description:"Ffmpeg is a powerful tool for video editing. Revideo uses FFmpeg for multiple",source:"@site/docs/common-issues/ffmpeg.mdx",sourceDirName:"common-issues",slug:"/common-issues/ffmpeg",permalink:"/common-issues/ffmpeg",draft:!1,editUrl:"https://github.com/havenhq/revideo/blob/main/packages/docs/docs/common-issues/ffmpeg.mdx",tags:[],version:"current",lastUpdatedBy:"Justus Mattern",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/common-issues/ffmpeg"},sidebar:"docs",previous:{title:"Common Issues",permalink:"/category/common-issues"},next:{title:"Slow Rendering",permalink:"/common-issues/slow-rendering"}},l={},m=[{value:"SIGSEGV (Segmentation Fault) when running Ffmpeg.",id:"sigsegv-segmentation-fault-when-running-ffmpeg",level:3},{value:"Using a custom ffmpeg path",id:"using-a-custom-ffmpeg-path",level:3}],u={toc:m},p="wrapper";function f(e){let{components:n,...t}=e;return(0,r.yg)(p,(0,o.A)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"ffmpeg-issues"},"FFmpeg Issues"),(0,r.yg)("p",null,"Ffmpeg is a powerful tool for video editing. Revideo uses FFmpeg for multiple\ntasks, such as concatenating frames into a video, and audio manipulation among\nother things."),(0,r.yg)("p",null,"Revideo uses FFmpeg v6. To make installation easier, we ship a small version of\nFFmpeg with Revideo. It is automatically downloaded into the ",(0,r.yg)("inlineCode",{parentName:"p"},"node_modules"),"\nfolder. This means that you do not need to install FFmpeg globally on your\nmachine."),(0,r.yg)("p",null,"Below, we list some common issues with ffmpeg and how to fix them."),(0,r.yg)("h3",{id:"sigsegv-segmentation-fault-when-running-ffmpeg"},"SIGSEGV (Segmentation Fault) when running Ffmpeg."),(0,r.yg)("p",null,"If you're on Linux, the ffmpeg version used in Revideo might cause a\nsegmentation fault if you use remote urls for media files instead of local\nfiles."),(0,r.yg)("p",null,"You can normally fix this issue by installing nscd:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"sudo apt-get install nscd\n")),(0,r.yg)("p",null,"If you want to learn more about the root cause of this issue and its fix, check\nout\n",(0,r.yg)("a",{parentName:"p",href:"https://stackoverflow.com/questions/60528501/ffmpeg-segmentation-fault-with-network-stream-source"},"this"),"\nStackoverflow thread,"),(0,r.yg)("h3",{id:"using-a-custom-ffmpeg-path"},"Using a custom ffmpeg path"),(0,r.yg)("p",null,"If you want to use a custom version of FFmpeg, you can either set the\nenvironment variable ",(0,r.yg)("inlineCode",{parentName:"p"},"FFMPEG_PATH")," to the path of your FFmpeg binary, or you can\nset the path to ffmpeg in the render function. Here is an example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-tsx"},"import {renderVideo} from '@revideo/renderer';\n\n// ...\n\nawait renderVideo('./src/project.ts', undefined, undefined, {\n  ffmpeg: {\n    // Points to the global ffmpeg installation,\n    ffmpegPath: 'ffmpeg',\n  },\n});\n")),(0,r.yg)("p",null,"See the ",(0,r.yg)("a",{parentName:"p",href:"/api/renderer/renderVideo"},"renderVideo")," API documentation for more\ninformation."))}f.isMDXComponent=!0}}]);